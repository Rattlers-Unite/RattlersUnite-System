{% extends 'categories.html' %}

{% block content %}
    <p class="title">Events</p>
    <div class="gridmenu">
        {% if events %}
            {% for post in events %}
            <a href="{{ url_for('eventdetails', id=post['ID']) }}">
                <div class="contentBox">
                    <img class="boxPic" src={{ post['EventIcon'] }}/>
                    <div class="boxDetails">
                        <p class="boxName">{{ post['Name']|text_limiter }}</p>
                        <p class="orgName">{{ post['Organization']|text_limiter(org=True) }}</p>
                        <p class="eventTime">{{ post['StartDate']|format_datetime(post['EndDate']) }}</p>
                        <p class="eventTime">Location: {{ post['Location'] }}</p>
                    </div>
                </div>
            </a>
            {% endfor %}
        {% else %}
            <div class="noEvent">
                <div class="textCenter">
                    <p class="noEventText">
                        No events are currently scheduled.
                    </p>
                </div>
            </div>
        {% endif %}
    </div>
                    
    <p class="title">Organizations</p>
    <div class="gridmenu">
        {% if organizations %}
            {% for o in organizations %}
                <a href="{{ url_for('organizationdetails', id=o['ID']) }}">
                    <div class="contentBox">
                        <img src={{ o['OrgIcon'] }} class="boxPic"/>
                        <div class="boxDetails">
                            <p class="boxName">{{ o['Name']|text_limiter }}</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
        {% else %}
            <div class="noEvent">
                <div class="textCenter">
                    <p class="noEventText">
                        No organizations are currently available to be displayed.
                    </p>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}